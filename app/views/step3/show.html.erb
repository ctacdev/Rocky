<%= render partial: "layouts/usa_gov_header_nav" %>

<h1><%= t('txt.registration.step_3_header') %></h1>

<%= form_for(@registrant, :url => registrant_step_3_path(@registrant)) do |form| %>
<div class="text"><%= t("txt.required_fields") %></div>

<% if form.object.errors.count > 0 %>
  <div id="errors" class="alert" tabindex="-1">
    <p> The following errors were present on the page:</p>
    <ol>
      <% if !form.object.errors[:date_of_birth].empty? %>
        <li class="individual_error"><%= link_to "#{t("activerecord.attributes.registrant.date_of_birth")} #{form.object.errors[:date_of_birth].join("\n")}", "#", onclick: 'event.preventDefault(); $("#registrant_date_of_birth").focus();', tabindex: -1 %></li>
      <% end %>
    </ol>
  </div>
<% end %>
  
<div class="flat">
  <div class="width_f">
    <div class="online_reg_notice">
      <p class="voter_message"><%= t("txt.registration.instructions.us_citizen") %>:</p>
      <ul>
        <li><%= t("txt.registration.instructions.purpose_1") %></li>
        <li><%= t("txt.registration.instructions.purpose_2") %></li>
        <li><%= t("txt.registration.instructions.purpose_3") %></li>
      </ul>

    </div>
  </div>
</div>

  <fieldset>
    <legend><%= I18n.t('txt.registration.eligibility') %></legend>
    <div class="stacked">
      <div class="width_f">
        <label for="registrant_date_of_birth">
          <span class="required" title="required">*</span>
          <%= t("activerecord.attributes.registrant.date_of_birth") %>
        <span class="example"><%= t("txt.registration.tooltips.date_of_birth_format") %>
        </span>
        <br/><span class="tooltip"><%= t("txt.registration.tooltips.date_of_birth").html_safe%></span><br/>
      </label>
        <%= field_div form, :date_of_birth, :value => form.object.form_date_of_birth %>
      </div>
    </div>
  </fieldset>
  <fieldset>
  <legend><%= t('txt.registration.tooltips.check_all') %></legend>
    <div class="stacked">
      <div class="width_f">
        <p><%= t('txt.registration.tooltips.check_all_more') %></p>
        <ul class="checkbox checkbox-step-1">
          <li <% if !form.object.errors[:us_citizen].empty? %>class="checkbox_error" <% end %>>
              <%= form.check_box :us_citizen %>
              <label for="registrant_us_citizen" class: "check-box-step-1">
                <%= t("activerecord.attributes.registrant.us_citizen") %>
              </label>
          </li>
          <li <% if !form.object.errors[:has_state_license].empty? %>class="checkbox_error" <% end %>> 
              <%= form.check_box :has_state_license %>
              <label for="registrant_has_state_license" class: "check-box-step-1">
                <!-- <span class="required" title="required">*</span> -->
                <%= t("activerecord.attributes.registrant.has_state_license") %>
              </label>
          </li>
          <li <% if !form.object.errors[:will_be_18_by_election].empty? %>class="checkbox_error" <% end %>>
              <%= form.check_box :will_be_18_by_election %>
              <label for="registrant_will_be_18_by_election" class: "check-box-step-1">
                <%= t("activerecord.attributes.registrant.will_be_18_by_election") %>
              </label>
          </li>
          <li>
              <%= form.check_box :first_registration %>
              <label for="registrant_first_registration" class: "check-box-step-1">
                <%= t("activerecord.attributes.registrant.first_registration") %></label>
          </li>
        </ul>
      </div>
    </div>
  </fieldset>
  <div class="button_row centered">
    <%= rollover_button(:next_step, I18n.t('txt.button.eligibility').html_safe) %>
  </div>
<% end %>