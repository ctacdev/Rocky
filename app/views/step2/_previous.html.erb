<% content_for :head do %>
  <script>
  $(document).ready(function() {
    checkboxTogglesSet($('#registrant_change_of_name'), $('#prev_name_set'), $('#prev_name_rule'));
    checkboxTogglesSet($('#registrant_change_of_address'), $('#prev_address_set'), $('#prev_address_rule'));
    $('#javascript_disabled').remove();
  });
  </script>
<% end %>



<fieldset class='no_border'>

  <legend><%= t('txt.registration.change_of_address') %></legend>
  <div class="checkbox checkbox-with-tooltip">
    <div>
        <span class="tooltip"> <%= t("txt.registration.tooltips.previous_address").html_safe%></span><%= form.check_box :change_of_address %> <%= form.label :change_of_address, I18n.t('activerecord.attributes.registrant.change_of_address'), class: "check-box-step-1" %>
    </div>
  </div>
</fieldset>

<fieldset id="prev_address_set">
  <legend><%= t('txt.registration.previous_address') %></legend>
  <div class="stacked">
    <div class="width_a">
    <%= form.label :prev_address %>
      <%= field_div form, :prev_address %>
      <span class="error"><%= form.object.errors[:prev_address].join("\n") %></span>
  </div>
    <div class="width_b">
      <%= form.label :prev_unit %>
      <%= field_div form, :prev_unit, :size => 15 %>
      <span class="error"><%= form.object.errors[:prev_unit].join("\n") %></span>
    </div>
  </div>
  <div class="stacked">
    <div class="width_a">
      <%= form.label :prev_city %>
      <%= field_div form, :prev_city %>
      <span class="error"><%= form.object.errors[:prev_city].join("\n") %></span>
    </div>
    <div class="width_b">
      <%= form.label :prev_state_abbrev %>
      <div><%= form.select :prev_state_abbrev, GeoState.collection_for_select %></div>
      <span class="error"><%= form.object.errors[:prev_state_abbrev].join("\n") %></span>
    </div>
    <div class="width_c">
      <%= form.label :prev_zip_code %>
      <%= field_div form, :prev_zip_code, :size => 10, :maxlength => 10 %>
      <span class="error"><%= form.object.errors[:prev_zip_code].join("\n") %></span>
    </div>
  </div>
</fieldset>

<fieldset class='no_border'>
  <legend><%= I18n.t('txt.registration.change_of_name') %></legend>
  <div class="checkbox checkbox-with-tooltip">
    <div>
        <span class="tooltip"> <%= t("txt.registration.tooltips.previous_name").html_safe%></span>
      <%= form.check_box :change_of_name %> <%= form.label :change_of_name, I18n.t('activerecord.attributes.registrant.change_of_name'), class: "check-box-step-1" %>
    </div>
  </div>
</fieldset>

<fieldset id="prev_name_set">
  <%= hidden_field_tag "javascript_disabled", "1"  %>
  <legend><%= I18n.t('txt.registration.previous_name') %></legend>
  <div class="stacked">
    <div class="width_d">
      <%= form.label :prev_name_title %>
      <%= select_div form, :prev_name_title, @registrant.titles, :include_blank => true %>
      <span class="error"><%= form.object.errors[:prev_name_title].join("\n") %></span>
    </div>
    <div class="width_b">
      <%= form.label :prev_first_name %>
      <%= field_div form, :prev_first_name, :size => 15 %>
      <span class="error"><%= form.object.errors[:prev_first_name].join("\n") %></span>
    </div>
    <div class="width_c">
      <%= form.label :prev_middle_name %>
      <%= field_div form, :prev_middle_name, :size => 10 %>
      <span class="error"><%= form.object.errors[:prev_middle_name].join("\n") %></span>
    </div>
    <div class="width_b">
      <%= form.label :prev_last_name %>
      <%= field_div form, :prev_last_name, :size => 1 %>
      <span class="error"><%= form.object.errors[:prev_last_name].join("\n") %></span>
    </div>
    <div class="width_d">
      <%= form.label :prev_name_suffix %>
      <div><%= form.select :prev_name_suffix,  @registrant.suffixes, :include_blank => t('txt.registration.select_none') %></div>
      <span class="error"><%= form.object.errors[:prev_name_suffix].join("\n") %></span>
    </div>
  </div>
</fieldset>
<%- show_hr = show_hr.nil? ? true : show_hr %>
<%- if show_hr %>

<%- end %>

